[gd_scene load_steps=24 format=3 uid="uid://dxc4kb3dx6kg5"]

[ext_resource type="MeshLibrary" uid="uid://bjgvhnvl7dm6b" path="res://my_tiles.tres" id="1_0wt7h"]
[ext_resource type="Script" uid="uid://jwuidsopn8jt" path="res://_Scripts/main_world.gd" id="1_pt4xt"]
[ext_resource type="PackedScene" uid="uid://d3hvkomi6qf3v" path="res://_Scenes/Player.tscn" id="2_b8oha"]
[ext_resource type="PackedScene" uid="uid://lu14ckl0jr3s" path="res://_Scenes/UI_LifePath.tscn" id="2_ugwwi"]
[ext_resource type="PackedScene" uid="uid://tv4cm1lv1vpr" path="res://_Scenes/Building_Lib.tscn" id="3_e2qk1"]
[ext_resource type="Script" uid="uid://cjycr0ihfhca4" path="res://_Scripts/UI_LifePath.gd" id="3_e4xpx"]
[ext_resource type="PackedScene" uid="uid://drny7bgdvsesv" path="res://_Scenes/Building_Dorm.tscn" id="4_b4a7i"]
[ext_resource type="Script" path="res://_Scenes/camera_3d_2.gd" id="6_rtyws"]
[ext_resource type="PackedScene" uid="uid://dr5mmjbw58np1" path="res://_Scenes/UI_Event.tscn" id="6_ugwwi"]
[ext_resource type="Script" uid="uid://cdxu1tvbqnx32" path="res://_Scripts/Managers/GameManager.gd" id="8_kir0c"]
[ext_resource type="PackedScene" uid="uid://dhtnfx12h2s3k" path="res://_Assets/kaykit_city_builder_bits/Assets/gltf/building_B.gltf" id="11_qbear"]
[ext_resource type="PackedScene" uid="uid://c83sfcu4oqamk" path="res://_Assets/kaykit_city_builder_bits/Assets/gltf/building_A.gltf" id="12_pldw2"]
[ext_resource type="FontFile" uid="uid://cuxdp8tbmo8xs" path="res://_Assets/Art/msyh.ttf" id="13_3ls43"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qbear"]
albedo_color = Color(0.959454, 0.75804514, 0.36690503, 1)

[sub_resource type="TextMesh" id="TextMesh_pldw2"]
material = SubResource("StandardMaterial3D_qbear")
text = "图书馆"
font = ExtResource("13_3ls43")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rtyws"]
albedo_color = Color(0.9607843, 0.75686276, 0.36862746, 1)

[sub_resource type="TextMesh" id="TextMesh_qbear"]
material = SubResource("StandardMaterial3D_rtyws")
text = "37幢"
font = ExtResource("13_3ls43")

[sub_resource type="Environment" id="Environment_e4xpx"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_rtyws"]
dof_blur_far_enabled = true
dof_blur_far_distance = 32.26
dof_blur_near_enabled = true
dof_blur_near_distance = 2.32

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pldw2"]
albedo_color = Color(0.9607843, 0.75686276, 0.36862746, 1)

[sub_resource type="TextMesh" id="TextMesh_3ls43"]
material = SubResource("StandardMaterial3D_pldw2")
text = "计算机实验室"
font = ExtResource("13_3ls43")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3ls43"]

[sub_resource type="TextMesh" id="TextMesh_cyiwf"]
material = SubResource("StandardMaterial3D_3ls43")
text = "食堂"
font = ExtResource("13_3ls43")

[node name="Node3D" type="Node3D"]
script = ExtResource("1_pt4xt")

[node name="CanvasLayer" parent="." instance=ExtResource("2_ugwwi")]
process_mode = 3
script = ExtResource("3_e4xpx")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("1_0wt7h")
data = {
"cells": PackedInt32Array(1, 1, 0, 2, 1, 0, 65530, 1, 0, 65531, 1, 0, 65532, 1, 0, 1, 2, 0, 65532, 0, 0, 65531, 0, 0, 65530, 0, 0, 65530, 65535, 0, 65531, 65535, 0, 65532, 65535, 0, 0, 2, 8, 0, 1, 8, 0, 3, 8, 65534, 5, 5, 65534, 4, 5, 65534, 3, 5, 65534, 2, 5, 65534, 1, 5, 65534, 0, 5, 65534, 65535, 5, 65534, 65534, 5, 65534, 65533, 5, 65535, 3, 8, 65535, 2, 8, 65535, 1, 8, 65535, 0, 8, 65535, 65535, 8, 0, 0, 8, 0, 65535, 8, 65535, 65534, 8, 65533, 0, 8, 65533, 1, 8, 65533, 2, 8, 65533, 3, 8, 65532, 2, 8, 65533, 4, 8, 65531, 2, 8, 65532, 3, 8, 65533, 65535, 8, 65532, 65534, 8, 65533, 65534, 8, 65533, 65533, 8, 65532, 65533, 8, 65531, 65534, 8, 65530, 65534, 8, 65530, 65533, 8, 65531, 65533, 8, 1, 0, 8, 65534, 65532, 4, 65533, 65532, 1441797, 65532, 65532, 1441797, 65535, 65532, 1441797, 0, 65532, 1441797, 65531, 65532, 1441797, 65529, 65532, 1441797, 65530, 65532, 1441797, 2, 2, 0, 1, 3, 0, 2, 3, 0, 3, 3, 0, 3, 2, 0, 3, 1, 0, 1, 65535, 8, 2, 65535, 8, 2, 0, 8, 0, 65534, 8, 1, 65534, 8, 2, 65534, 8, 3, 65534, 8, 3, 65535, 8, 3, 0, 8, 65535, 4, 8, 65535, 5, 1441797, 0, 5, 1441797, 65533, 5, 8, 65532, 5, 655365, 0, 4, 8, 65534, 6, 1048583, 65533, 6, 1048581, 65532, 6, 1048581, 65535, 6, 1048581, 0, 6, 1048581, 65531, 6, 1048581, 1, 6, 1048581, 65531, 3, 1048584, 65531, 4, 1048584, 65531, 5, 1048584, 65530, 5, 1048584, 65530, 4, 1048584, 65530, 3, 1048584, 65530, 2, 1048584, 65535, 65533, 1048584, 0, 65533, 1048584, 1, 65533, 1048584, 1, 65532, 1048581, 2, 65532, 1048581, 3, 65532, 1048581, 4, 65532, 1441795, 4, 65533, 655365, 4, 65534, 655365, 4, 65535, 655365, 4, 0, 655365, 4, 1, 655365, 4, 2, 655365, 4, 3, 655365, 4, 4, 655365, 4, 5, 655365, 4, 6, 655363, 2, 6, 1048581, 3, 6, 1048581, 1, 5, 1048581, 2, 5, 1048581, 3, 5, 1048581, 1, 4, 1048584, 2, 4, 1048584, 3, 4, 1048584, 3, 65533, 1048584, 2, 65533, 1048584, 65528, 65532, 3, 65528, 65533, 5, 65528, 65534, 5, 65528, 65535, 5, 65528, 0, 5, 65528, 1, 5, 65528, 2, 5, 65528, 3, 5, 65528, 4, 5, 65528, 5, 5, 65528, 6, 1048579, 65529, 6, 1048581, 65530, 6, 1048581, 65529, 65533, 1048584, 65529, 65534, 1048584, 65529, 65535, 1048584, 65529, 0, 1048584, 65529, 2, 1048584, 65529, 1, 1048584, 65529, 3, 1048584, 65529, 4, 1048584, 65529, 5, 1048584)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Player" parent="." instance=ExtResource("2_b8oha")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.7528887, 1.6899992, 0.12365723)

[node name="Camera3D2" type="Camera3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 0.7071068, 0.7071068, 0, -0.7071068, 0.7071068, 0.753, 8.31, 9.876)
current = true
fov = 30.0
size = 10.0
script = ExtResource("6_rtyws")

[node name="building_lib" parent="." groups=["buildings"] instance=ExtResource("3_e2qk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.9713726, 1.0500002, 1.9964867)

[node name="Node3D" type="Node3D" parent="building_lib"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2380948, 2.1778216, 0.78045607)

[node name="MeshInstance3D" type="MeshInstance3D" parent="building_lib/Node3D"]
mesh = SubResource("TextMesh_pldw2")

[node name="building_dorm" parent="." groups=["buildings"] instance=ExtResource("4_b4a7i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.53585, 1.0500002, 3.9582543)

[node name="Node3D" type="Node3D" parent="building_dorm"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.088389635, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="building_dorm/Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5059743, 2.3820345, 1.5136957)
mesh = SubResource("TextMesh_qbear")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.70710677, 0.70710677, 0, -0.70710677, 0.70710677, 0, 0, 0)
shadow_enabled = true

[node name="UI_Event" parent="." instance=ExtResource("6_ugwwi")]
unique_name_in_owner = true

[node name="GameManager" type="Node3D" parent="."]
script = ExtResource("8_kir0c")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_e4xpx")
camera_attributes = SubResource("CameraAttributesPractical_rtyws")

[node name="building_compute" parent="." instance=ExtResource("11_qbear")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.998165, 1.0299504, 9.033633)

[node name="Node3D" type="Node3D" parent="building_compute"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8461268, 1.1584663)

[node name="MeshInstance3D" type="MeshInstance3D" parent="building_compute/Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.23809671, -0.36963367)
mesh = SubResource("TextMesh_3ls43")

[node name="building_A2" parent="." instance=ExtResource("12_pldw2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.029327, 1.1269968, -4.968185)

[node name="Node3D" type="Node3D" parent="building_A2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 1)

[node name="MeshInstance3D" type="MeshInstance3D" parent="building_A2/Node3D"]
mesh = SubResource("TextMesh_cyiwf")
